{"version":3,"sources":["webpack://msd-builder/webpack/bootstrap","webpack://msd-builder/../TS/ujsx/dist/common/util.mjs","webpack://msd-builder/../TS/ujsx/dist/dom/context.mjs","webpack://msd-builder/../TS/ujsx/dist/common/object.mjs","webpack://msd-builder/../TS/ujsx/dist/dom/convert.mjs","webpack://msd-builder/../TS/ujsx/dist/dom/create.mjs","webpack://msd-builder/../TS/ujsx/dist/html/render.mjs","webpack://msd-builder/../TS/ujsx/dist/ujsx.mjs","webpack://msd-builder/../TS/ujsx/dist/bind.mjs","webpack://msd-builder/./node_modules/dtk/dist/data/svgtags.mjs","webpack://msd-builder/./node_modules/dtk/dist/attr.mjs","webpack://msd-builder/./node_modules/dtk/dist/prop.mjs","webpack://msd-builder/./node_modules/dtk/dist/append.mjs","webpack://msd-builder/./node_modules/dtk/dist/create.mjs","webpack://msd-builder/./src/tagsets/dlkt.ts","webpack://msd-builder/./src/tagsets.ts","webpack://msd-builder/./src/ui.tsx","webpack://msd-builder/./src/builder.tsx"],"names":["__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__","camelToKebab","s","split","map","p","i","a","length","slice","toLowerCase","join","flattenTo","arr","to","l","Array","isArray","push","flatten","out","noContext","extracted","window","undefined","document","DOMNode","DOMElement","isDOMNode","ctx","obj","isDOMElement","isUJSXObject","tag","attributes","children","ujsxObjectToDOM","createDOMElement","ujsxToDOM","ujsx","createTextNode","String","e","xmlns","el","createElementNS","createElement","dangerous","rkey","key","rval","__html","val","spairs","skey","filter","vkeys","vkey","setAttribute","innerHTML","cel","appendChild","voidTags","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","html","replace","attr","script","stringify","uo","outerHTML","apairs","efun","safechs","c","ujsxToHTML","auto","ectx","w","Node","Element","extractDOMContext","attrs","Object","assign","ujsxFor","svgTags","setAttr","removeAttribute","arguments","getAttribute","prop","props","$","append","_i","_a","children_1","child","_b","child_1","cc","__spreadArrays","il","r","k","j","jl","svgNS","create","clsOrProps","svg","txt","innerText","apply","tagsets","dlkt","name","type","data","require","picker","params","label","items","multiple","onchange","cls","inputs","get","vals","checked","value","handler","id","addEventListener","ul","htmlFor","className","trim","console","log","tsroot","tspicker","page","entries","tsid","root","tagset","query","placeholder","common","result","form","setQuery","res","options","pos","posid","comment","pickers","update","tpd","positions","pd","position","values","vd","initMSDTagSet","initTagSet","body"],"mappings":"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","file":"builder.js","sourcesContent":["// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","export function camelToKebab(s) {\n    return s.split(/([A-Z]+)/).map((p, i, a) => i % 2 ? ((a[i - 1] ? '-' : '') +\n        (p.length > 1 && a[i + 1] ? p.slice(0, -1) + '-' + p.slice(-1) : p).toLowerCase()) : p).join('');\n}\nfunction flattenTo(arr, to) {\n    for (let i = 0, l = arr.length; i < l; i++) {\n        if (Array.isArray(arr[i]))\n            flattenTo(arr[i], to);\n        else\n            to.push(arr[i]);\n    }\n}\nexport function flatten(arr) {\n    if (!Array.isArray(arr))\n        return [arr];\n    const out = [];\n    flattenTo(arr, out);\n    return out;\n}\n//# sourceMappingURL=util.mjs.map","const noContext = {\n    extracted: true,\n    window: undefined,\n    document: undefined,\n    DOMNode: undefined,\n    DOMElement: undefined,\n};\nexport function extractDOMContext(ctx) {\n    if (ctx && ctx.extracted) {\n        return ctx;\n    }\n    if (!ctx || !ctx.window)\n        return noContext;\n    const w = ctx.window;\n    return {\n        window: ctx.window,\n        document: ctx.document || ctx.window.document,\n        DOMNode: w.Node,\n        DOMElement: w.Element,\n    };\n}\nexport function isDOMNode(ctx, obj) {\n    return ctx && ctx.DOMNode && (obj instanceof ctx.DOMNode) || false;\n}\nexport function isDOMElement(ctx, obj) {\n    return ctx && ctx.DOMElement && (obj instanceof ctx.DOMElement) || false;\n}\n//# sourceMappingURL=context.mjs.map","export function isUJSXObject(obj) {\n    return (obj &&\n        typeof obj == 'object' &&\n        typeof obj.tag == 'string' &&\n        typeof obj.attributes == 'object' &&\n        Array.isArray(obj.children));\n}\nexport function createUJSXObject(tag, attributes, ...children) {\n    const attrs = {};\n    if (attributes)\n        for (let rkey in attributes) {\n            let key = rkey.toLowerCase();\n            if (key == 'classname')\n                key = 'class';\n            if (key == 'htmlfor')\n                key = 'for';\n            attrs[key] = attributes[rkey];\n        }\n    return {\n        tag: tag.toLowerCase(),\n        attributes: attrs,\n        children\n    };\n}\n//# sourceMappingURL=object.mjs.map","import { isDOMElement } from'./context.mjs';\nimport { createDOMElement } from'./create.mjs';\nimport { flatten } from'../common/util.mjs';\nimport { createUJSXObject, isUJSXObject } from'../common/object.mjs';\nconst ELEMENT_NODE = 1;\nconst TEXT_NODE = 3;\nconst DOCUMENT_NODE = 9;\nconst DOCUMENT_FRAGMENT_NODE = 10;\nexport function ujsxObjectToDOM(ctx, obj) {\n    return createDOMElement(ctx, obj.tag, obj.attributes, obj.children);\n}\nexport function ujsxToDOM(ctx, ujsx) {\n    const document = ctx.document;\n    if (typeof ujsx != 'object')\n        return document.createTextNode(String(ujsx));\n    if (Array.isArray(ujsx))\n        return flatten(ujsx).map(e => ujsxToDOM(ctx, e));\n    if (isDOMElement(ctx, ujsx))\n        return ujsx;\n    if (!isUJSXObject(ujsx))\n        return document.createTextNode(String(ujsx));\n    return ujsxObjectToDOM(ctx, ujsx);\n}\nexport function domToUJSX(node) {\n    const nt = node && node.nodeType;\n    const recc = () => Array.from(node.childNodes).map(cn => domToUJSX(cn));\n    if (!nt || nt == TEXT_NODE)\n        return node && node.textContent;\n    if (nt == DOCUMENT_NODE || nt == DOCUMENT_FRAGMENT_NODE)\n        return recc();\n    if (nt != ELEMENT_NODE)\n        return null;\n    const el = node;\n    const attrs = {};\n    for (let attr of Array.from(el.attributes)) {\n        attrs[attr.name] = attr.value;\n    }\n    return createUJSXObject(el.tagName, attrs, recc());\n}\n//# sourceMappingURL=convert.mjs.map","import { camelToKebab, flatten } from'../common/util.mjs';\nimport { isDOMNode } from'./context.mjs';\nimport { ujsxObjectToDOM } from'./convert.mjs';\nimport { isUJSXObject } from'../common/object.mjs';\nexport function createDOMElement(ctx, tag, attributes, ...children) {\n    const document = ctx.document;\n    const xmlns = attributes && attributes.xmlns;\n    const el = xmlns ? document.createElementNS(xmlns, tag) : document.createElement(tag);\n    let dangerous;\n    if (attributes)\n        for (let rkey in attributes) {\n            let key = rkey.toLowerCase();\n            if (key == 'classname')\n                key = 'class';\n            if (key == 'htmlfor')\n                key = 'for';\n            const rval = attributes[rkey];\n            if (rval === false || rval === null || rval === void 0 || typeof rval == 'function')\n                continue;\n            if (key == 'dangerouslysetinnerhtml') {\n                dangerous = rval.__html;\n                continue;\n            }\n            let val;\n            if (key == 'style' && typeof rval == 'object') {\n                const spairs = [];\n                for (let skey in rval)\n                    spairs.push(camelToKebab(skey) + ': ' + rval[skey]);\n                val = spairs.join('; ');\n            }\n            else if (Array.isArray(rval)) {\n                val = rval.filter(e => e).join(' ');\n            }\n            else if (typeof rval == 'object') {\n                const vkeys = [];\n                for (let vkey in rval)\n                    if (rval[vkey])\n                        vkeys.push(vkey);\n                val = vkeys.join(' ');\n            }\n            else {\n                val = rval === true ? key : rval + '';\n            }\n            el.setAttribute(key, val);\n        }\n    if (dangerous) {\n        el.innerHTML = dangerous;\n    }\n    else if (children) {\n        for (let cel of flatten(children)) {\n            if (cel === undefined || cel === null || cel === false)\n                continue;\n            if (isDOMNode(ctx, cel))\n                el.appendChild(cel);\n            else if (isUJSXObject(cel))\n                el.appendChild(ujsxObjectToDOM(ctx, cel));\n            else\n                el.appendChild(document.createTextNode(cel + ''));\n        }\n    }\n    return el;\n}\n//# sourceMappingURL=create.mjs.map","import { camelToKebab, flatten } from'../common/util.mjs';\nimport { isDOMElement } from'../dom/context.mjs';\nimport { isUJSXObject } from'../common/object.mjs';\nconst voidTags = {\n    area: true,\n    base: true,\n    br: true,\n    col: true,\n    command: true,\n    embed: true,\n    hr: true,\n    img: true,\n    input: true,\n    keygen: true,\n    link: true,\n    meta: true,\n    param: true,\n    source: true,\n    track: true,\n    wbr: true\n};\nfunction html(s) {\n    return s\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;');\n}\nfunction attr(s) {\n    return s\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#039;');\n}\nfunction script(s) {\n    return s.replace(/<\\/script/g, '<\\\\/script');\n}\nfunction stringify(uo, ctx) {\n    if (!uo)\n        return '';\n    if (typeof uo == 'string')\n        return html(uo);\n    if (isDOMElement(ctx, uo)) {\n        return uo.outerHTML;\n    }\n    if (Array.isArray(uo)) {\n        return uo.map(el => stringify(el, ctx));\n    }\n    if (!isUJSXObject(uo))\n        return String(uo);\n    let dangerous;\n    const apairs = [];\n    if (uo.attributes)\n        for (let key in uo.attributes) {\n            const rval = uo.attributes[key];\n            if (rval === false || rval === null || rval === void 0 || typeof rval == 'function')\n                continue;\n            if (key == 'dangerouslysetinnerhtml') {\n                dangerous = rval.__html;\n                continue;\n            }\n            let val;\n            if (key == 'style' && typeof rval == 'object') {\n                const spairs = [];\n                for (let skey in rval)\n                    spairs.push(camelToKebab(skey) + ': ' + rval[skey]);\n                val = spairs.join('; ');\n            }\n            else if (Array.isArray(rval)) {\n                val = rval.filter(e => e).join(' ');\n            }\n            else if (typeof rval == 'object') {\n                const vkeys = [];\n                for (let vkey in rval)\n                    if (rval[vkey])\n                        vkeys.push(vkey);\n                val = vkeys.join(' ');\n            }\n            else {\n                val = rval === true ? key : rval + '';\n            }\n            apairs.push(' ' + attr(key) + '=\"' + attr(val) + '\"');\n        }\n    const efun = uo.tag == 'script' ? script : html;\n    const safechs = dangerous === void 0 ? flatten(uo.children).map(c => {\n        if (c === undefined || c === null || c === false)\n            return '';\n        if (typeof c == 'string')\n            return efun(c);\n        return stringify(c, ctx);\n    }) : null;\n    if (voidTags[uo.tag] && dangerous === void 0 && !safechs.length)\n        return ['<', uo.tag, apairs.join(''), ' />'];\n    return ['<', uo.tag, apairs.join(''), '>', dangerous !== void 0 ? dangerous : safechs, '</', uo.tag, '>'];\n}\nexport function ujsxToHTML(ctx, arr) {\n    return flatten(stringify(arr, ctx)).join('');\n}\n//# sourceMappingURL=render.mjs.map","import'./common/global.mjs';\nimport { ujsxFor } from'./bind.mjs';\nimport { isUJSXObject, createUJSXObject } from'./common/object.mjs';\nimport { domToUJSX } from'./dom/convert.mjs';\nconst w = typeof window !== 'undefined' ? window : undefined;\nconst auto = ujsxFor({ window: w });\nconst { ujsx, ujsxToDOM, ujsxToHTML } = auto;\nexport { isUJSXObject, createUJSXObject, ujsxFor, auto, ujsx, ujsxToDOM, ujsxToHTML, domToUJSX };\n//# sourceMappingURL=ujsx.mjs.map","import { createDOMElement } from'./dom/create.mjs';\nimport { ujsxToHTML } from'./html/render.mjs';\nimport { ujsxToDOM } from'./dom/convert.mjs';\nimport { extractDOMContext } from'./dom/context.mjs';\nimport { createUJSXObject } from'./common/object.mjs';\nexport function ujsxFor(ctx) {\n    const ectx = extractDOMContext(ctx);\n    const createElement = ectx.window\n        ? (tag, attributes, ...children) => createDOMElement(ectx, tag, attributes, ...children)\n        : (tag, attributes, ...children) => createUJSXObject(tag, attributes, ...children);\n    function ujsxToDOMBound(ujsx) {\n        return ujsxToDOM(ectx, ujsx);\n    }\n    function ujsx(tag, attributes, ...children) {\n        if (typeof tag == 'function')\n            return tag(Object.assign({}, attributes, { children }));\n        return createElement(tag, attributes, ...children);\n    }\n    return {\n        ujsx,\n        ujsxToHTML: (ujsx) => ujsxToHTML(ectx, ujsx),\n        ujsxToDOM: ujsxToDOMBound\n    };\n}\n//# sourceMappingURL=bind.mjs.map","export var svgTags = {\n    \"circle\": true,\n    \"clippath\": true,\n    \"defs\": true,\n    \"desc\": true,\n    \"ellipse\": true,\n    \"feblend\": true,\n    \"fecolormatrix\": true,\n    \"fecomponenttransfer\": true,\n    \"fecomposite\": true,\n    \"feconvolvematrix\": true,\n    \"fediffuselighting\": true,\n    \"fedisplacementmap\": true,\n    \"fedistantlight\": true,\n    \"feflood\": true,\n    \"fefunca\": true,\n    \"fefuncb\": true,\n    \"fefuncg\": true,\n    \"fefuncr\": true,\n    \"fegaussianblur\": true,\n    \"feimage\": true,\n    \"femerge\": true,\n    \"femergenode\": true,\n    \"femorphology\": true,\n    \"feoffset\": true,\n    \"fepointlight\": true,\n    \"fespecularlighting\": true,\n    \"fespotlight\": true,\n    \"fetile\": true,\n    \"feturbulence\": true,\n    \"filter\": true,\n    \"foreignobject\": true,\n    \"g\": true,\n    \"image\": true,\n    \"line\": true,\n    \"lineargradient\": true,\n    \"marker\": true,\n    \"mask\": true,\n    \"metadata\": true,\n    \"path\": true,\n    \"pattern\": true,\n    \"polygon\": true,\n    \"polyline\": true,\n    \"radialgradient\": true,\n    \"rect\": true,\n    \"stop\": true,\n    \"svg\": true,\n    \"switch\": true,\n    \"symbol\": true,\n    \"text\": true,\n    \"textpath\": true,\n    \"tspan\": true,\n    \"use\": true,\n    \"view\": true\n};\n//# sourceMappingURL=svgtags.mjs.map","export function setAttr(el, attr, val) {\n    if (val === false || val === undefined || val === null || val === '') {\n        el.removeAttribute(attr);\n    }\n    else {\n        el.setAttribute(attr, val === true ? attr : String(val));\n    }\n}\nexport function attr(el, attrs, val) {\n    if (typeof attrs == 'string') {\n        if (arguments.length == 2)\n            return el.getAttribute(attrs);\n        return setAttr(el, attrs, val);\n    }\n    for (var key in attrs)\n        setAttr(el, key, attrs[key]);\n}\n//# sourceMappingURL=attr.mjs.map","import { attr } from './attr.mjs';\nexport function prop(el, props, val) {\n    if (typeof props == 'string') {\n        if (arguments.length == 2)\n            return el[props];\n        el[props] = val;\n        return;\n    }\n    var attrs = props.$;\n    if (attrs)\n        attr(el, attrs);\n    for (var key in props) {\n        if (key != '$')\n            el[key] = props[key];\n    }\n}\n//# sourceMappingURL=prop.mjs.map","export function append(el) {\n    var children = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        children[_i - 1] = arguments[_i];\n    }\n    for (var _a = 0, children_1 = children; _a < children_1.length; _a++) {\n        var child = children_1[_a];\n        if (typeof child == 'string') {\n            el.appendChild(document.createTextNode(child));\n        }\n        else if (Array.isArray(child)) {\n            for (var _b = 0, child_1 = child; _b < child_1.length; _b++) {\n                var cc = child_1[_b];\n                if (cc)\n                    el.appendChild(cc);\n            }\n        }\n        else if (child) {\n            el.appendChild(child);\n        }\n    }\n}\n//# sourceMappingURL=append.mjs.map","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { svgTags } from './data/svgtags.mjs';\nimport { prop } from './prop.mjs';\nimport { append } from './append.mjs';\nvar svgNS = 'http://www.w3.org/2000/svg';\nexport function create(tag, clsOrProps) {\n    var children = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        children[_i - 2] = arguments[_i];\n    }\n    var svg = svgTags[tag];\n    var el = (svg ? document.createElementNS(svgNS, tag) : document.createElement(tag));\n    if (typeof clsOrProps == 'string')\n        el.setAttribute('class', clsOrProps);\n    else if (clsOrProps)\n        prop(el, clsOrProps);\n    var txt = !svg && children.length == 1 && children[0];\n    if (typeof txt == 'string')\n        el.innerText = txt;\n    else\n        append.apply(void 0, __spreadArrays([el], children));\n    return el;\n}\n//# sourceMappingURL=create.mjs.map","import { TagSet } from '../tagsets';\nimport { MSDTags } from './msd';\n\nexport const dlkt = <TagSet<MSDTags>> {\n\tname: 'Lithuanian (DLKT)',\n\ttype: 'msd',\n\tdata: require('./dlkt-data')\n};\n","import { dlkt } from './tagsets/dlkt';\nimport { MSDTags } from './tagsets/msd';\n\nexport interface TagSet<T extends MSDTags>{ // | ...;\n\tname: string;\n\ttype: string;\n\tdata: T;\n}\n\nexport const tagsets: Record<string, TagSet<any>> = {\n\tdlkt\n};\n","import { UJSX, ujsx, ujsxToDOM, ujsxToHTML } from 'ujsx';\n\nimport './scss/bulder.scss'\n\nexport interface PickerParams<T> {\n\tlabel?: UJSX;\n\titems: PickerItem[];\n\tname: string;\n\tcls?: string;\n\tonchange?: PickerChangeHandler<T>;\n}\nexport type PickerItem<T = string> = { value: string, label?: UJSX };\nexport type PickerChangeHandler<T = string> = (selected: T, name: string) => void;\nexport type PickerChangeHandlers = PickerChangeHandler<string> | PickerChangeHandler<string[]>\nexport interface PickerResult<T> {\n\tpicker: HTMLElement;\n\tinputs: HTMLInputElement[];\n\tget: () => T;\n}\n\nexport function picker(params: PickerParams<string[]> & { multiple: true }): PickerResult<string[]>;\nexport function picker(params: PickerParams<string>): PickerResult<string>;\nexport function picker(params: PickerParams<any>) {\n\treturn pickerImpl(params);\n}\n\nfunction pickerImpl<T>({ label, items, name, multiple, onchange, cls }: PickerParams<T> & { multiple?: boolean }): PickerResult<T> {\n\n\tconst inputs: HTMLInputElement[] = [];\n\n\tconst get = () => {\n\t\tconst vals = inputs.filter(el => el.checked).map(el => el.value);\n\t\treturn (multiple ? vals : vals[0]) as any as T;\n\t};\n\n\tconst handler = (e: Event) => {\n\t\tonchange && onchange(get() as any, name);\n\t};\n\n\tconst input = (value: string) => {\n\t\tconst el = ujsxToDOM(<input\n\t\t\tid={`${name}_${value}`}\n\t\t\tname={name}\n\t\t\ttype={multiple ? 'checkbox' : 'radio'}\n\t\t\tvalue={value}\n\t\t/>) as HTMLInputElement;\n\t\tonchange && el.addEventListener('change', handler);\n\t\tinputs.push(el);\n\t\treturn el;\n\t};\n\n\tconst ul = <ul>{items.map(\n\t\t({ value, label }) => <li>\n\t\t\t{input(value)}\n\t\t\t<label htmlFor={`${name}_${value}`}>\n\t\t\t\t{label}\n\t\t\t</label>\n\t\t</li>\n\t)}</ul>;\n\n\tconst picker = ujsxToDOM(<div className={`picker ${cls}`.trim()}>\n\t\t{label && <h3>{label}</h3>}\n\t\t{ul}\n\t</div>) as HTMLElement;\n\n\treturn {\n\t\tpicker,\n\t\tinputs,\n\t\tget\n\t};\n\n}\n","import { ujsx } from 'ujsx';\nimport { append, create } from 'dtk';\n\nimport { TagSet, tagsets } from './tagsets';\nimport { picker, PickerResult } from './ui';\nimport { MSDTags } from './tagsets/msd';\n\nconsole.log(tagsets);\n\nconst L = {\n\ttagset: 'Tagset',\n\tresult: 'Result',\n\tpos: 'Part of speech',\n};\n\nfunction init() {\n\n\tconst tsroot = create('div');\n\tconst tspicker = picker({\n\t\tlabel: L.tagset,\n\t\tname: 'tagset',\n\t\titems: Object.entries(tagsets).map(([value, ts]) => ({ value, label: ts.name })),\n\t\tonchange: tsid => initTagSet(tsroot, tsid),\n\t\tcls: 'picker--horiz',\n\t});\n\n\tconst page = create('div', 'builder', tspicker.picker, tsroot);\n\tdocument.body.append(page);\n\n}\n\ninterface Common {\n\troot: HTMLElement;\n\tquery: HTMLInputElement;\n\tresult: HTMLDivElement;\n\tform: HTMLElement;\n\tsetQuery: (res: string) => void;\n}\n\nfunction initTagSet(root: HTMLElement, tsid: string) {\n\n\tconst tagset = tagsets[tsid];\n\tif (!tagset) return;\n\n\tconst parse = create('button', {}, 'parse');\n\n\tconst query = create('input', { className: 'builder__result', placeholder: L.result });\n\tconst result = create('div', 'builder__result', query);\n\n\tconst common: Common = {\n\t\troot,\n\t\tquery,\n\t\tresult,\n\t\tform: create('div', 'builder__form'),\n\t\tsetQuery: res => common.query.value = res,\n\t};\n\n\troot.innerHTML = '';\n\tappend(root, common.result, common.form);\n\n\tif (tagset.type == 'msd') initMSDTagSet(tagset, common);\n\n}\n\nfunction initMSDTagSet(tagset: TagSet<MSDTags>, common: Common) {\n\n\tconst options = create('div', 'builder__options');\n\n\tconst setPos = (pos: string) => {\n\n\t\tlet pickers: PickerResult<string>[] = [];\n\n\t\tconst update = () => common.setQuery(pos + pickers.map(p => p.get() || '-').join(''));\n\n\t\toptions.innerHTML = '';\n\n\t\tconst tpd = tagset.data[pos];\n\t\tpickers = tpd.positions.slice(1).map(pd => picker({\n\t\t\tname: `msd_${pos}_${pd.position}`,\n\t\t\tlabel: pd.comment,\n\t\t\titems: Object.values(pd.values).map(vd => ({\n\t\t\t\tvalue: vd.char,\n\t\t\t\tlabel: <span>\n\t\t\t\t\t<code>{vd.char}</code>{' '}\n\t\t\t\t\t{vd.comment}\n\t\t\t\t</span>,\n\t\t\t})),\n\t\t\tonchange: update\n\t\t}));\n\n\t\tappend(options, pickers.map(pd => pd.picker));\n\t\tupdate();\n\n\t};\n\n\tconst pos = picker({\n\t\tname: 'msd_pos',\n\t\tlabel: [<code>0</code>, L.pos],\n\t\titems: Object.entries(tagset.data).map(([posid, pos]) => ({\n\t\t\tvalue: posid,\n\t\t\tlabel: <span>\n\t\t\t\t<code>{posid}</code>{' '}\n\t\t\t\t{pos.comment}\n\t\t\t</span>,\n\t\t})),\n\t\tonchange: setPos,\n\t\tcls: 'builder__pos',\n\t});\n\n\tappend(common.form, pos.picker, options);\n\n}\n\ninit();\n"],"sourceRoot":""}